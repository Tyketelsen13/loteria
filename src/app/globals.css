@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

:root {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* iOS-specific viewport and scroll fixes */
*, *::before, *::after {
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

html {
  /* Prevent zoom on iOS when input fields are focused */
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  text-size-adjust: 100%;
  /* Improve touch scrolling on iOS */
  -webkit-overflow-scrolling: touch;
  /* Prevent horizontal scrolling */
  overflow-x: hidden;
  width: 100%;
}

body {
  background: linear-gradient(135deg, #f8ecd7 0%, #e1b866 100%);
  /* background: url('/parchment-bg.png'), linear-gradient(135deg, #f8ecd7 0%, #e1b866 100%); */
  background-size: cover;
  background-attachment: scroll; /* iOS doesn't support fixed attachment well */
  color: #6a1a1a;
  font-family: 'IM Fell English SC', 'Georgia', 'Times New Roman', serif;
  letter-spacing: 0.03em;
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height for iOS */
  /* iOS touch improvements */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  /* Prevent rubber band scrolling */
  overflow-x: hidden;
  position: relative;
  width: 100%;
}

/* Vintage western headings */
h1, h2, h3, .font-western {
  font-family: 'IM Fell English SC', 'Georgia', 'Times New Roman', serif;
  color: #8c2f2b;
  letter-spacing: 0.08em;
  text-shadow: 1px 1px 0 #e1b866, 2px 2px 0 #b89c3a;
  /* iOS text rendering improvements */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Card and panel backgrounds */
.vintage-panel {
  background: linear-gradient(135deg, #fff8e1 80%, #e1b866 100%);
  border: 3px solid #b89c3a;
  border-radius: 1.5rem;
  box-shadow: 0 4px 24px #b89c3a33, 0 1.5px 0 #fff8e1;
  padding: 1.5rem 2rem;
  /* iOS performance improvements */
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* Buttons - Enhanced for iOS touch targets */
.btn-western {
  background: linear-gradient(180deg, #e1b866 0%, #b89c3a 100%);
  color: #8c2f2b;
  border: 2px solid #8c2f2b;
  border-radius: 0.75rem;
  font-family: 'IM Fell English SC', 'Georgia', serif;
  font-weight: bold;
  letter-spacing: 0.06em;
  box-shadow: 0 2px 8px #b89c3a33;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
  /* iOS touch target improvements */
  min-height: 44px; /* Minimum touch target size for iOS */
  min-width: 44px;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  cursor: pointer;
  /* Prevent zoom on touch */
  touch-action: manipulation;
}
.btn-western:hover, .btn-western:focus {
  background: linear-gradient(180deg, #ffe7a0 0%, #e1b866 100%);
  color: #6a1a1a;
  box-shadow: 0 4px 16px #b89c3a55;
  outline: none; /* Remove default focus outline */
}

/* Add a subtle paper texture overlay for extra vintage feel */
body:after {
  content: '';
  position: absolute; /* Changed from fixed for iOS compatibility */
  inset: 0;
  pointer-events: none;
  background: #f8ecd7;
  /* background: url('/parchment-bg.png'); */
  opacity: 0.18;
  z-index: 0;
  /* iOS performance improvements */
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}

/* iOS-specific input and button fixes */
input, textarea, button, select {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  border-radius: 0;
  /* Prevent zoom on input focus */
  font-size: 16px;
  -webkit-tap-highlight-color: transparent;
}

/* Touch target improvements for interactive elements */
button, input[type="button"], input[type="submit"], .clickable {
  min-height: 44px;
  min-width: 44px;
  touch-action: manipulation;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
}

/* Scrollable areas optimizations for iOS */
.scrollable {
  -webkit-overflow-scrolling: touch;
}

/* Grid and Flexbox improvements for iOS Safari */
.grid {
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
}

.grid-cols-4 {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  /* iOS Safari grid fallback */
  display: -webkit-grid;
  -webkit-grid-template-columns: repeat(4, minmax(0, 1fr));
}

/* Mobile viewport fixes */
@media screen and (max-width: 768px) {
  body {
    min-height: 100vh;
    min-height: 100dvh;
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }
  
  /* Ensure content doesn't get cut off by iOS UI */
  .main-content {
    padding-top: env(safe-area-inset-top, 0px);
    padding-bottom: env(safe-area-inset-bottom, 0px);
    padding-left: env(safe-area-inset-left, 0px);
    padding-right: env(safe-area-inset-right, 0px);
  }
}

/* Custom gradient classes for board edges */
.bg-gradient-fantasy {
  background: repeating-linear-gradient(45deg, #7c3aed 0 8px, #a855f7 8px 16px, #c084fc 16px 24px, #ddd6fe 24px 32px);
}

.bg-gradient-horror {
  background: repeating-linear-gradient(135deg, #1a1a2e 0 12px, #16213e 12px 24px, #0f3460 24px 36px);
}

.bg-gradient-blood {
  background: repeating-linear-gradient(90deg, #7f1d1d 0 8px, #991b1b 8px 16px, #dc2626 16px 24px);
}

.bg-gradient-mystic {
  background: repeating-linear-gradient(60deg, #312e81 0 10px, #4338ca 10px 20px, #6366f1 20px 30px);
}

.bg-gradient-royal {
  background: repeating-linear-gradient(135deg, #5b21b6 0 14px, #c4b5fd 14px 28px);
}

.bg-gradient-geometric {
  background: repeating-linear-gradient(45deg, #1f2937 0 10px, #374151 10px 20px);
}

/* iOS-specific fixes for common layout issues */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari specific styles */
  .ios-card-fix {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    will-change: transform;
  }
  
  .ios-scroll-fix {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Fix for iOS button click areas */
  button, input[type="button"], input[type="submit"] {
    -webkit-appearance: button;
    appearance: button;
    border-radius: 0;
  }
  
  /* Prevent iOS zoom on input focus */
  input[type="email"], 
  input[type="number"], 
  input[type="password"], 
  input[type="search"], 
  input[type="tel"], 
  input[type="text"], 
  input[type="url"], 
  textarea, 
  select {
    font-size: 16px !important;
  }
}

/* Additional iOS Safari fixes */
@media screen and (-webkit-min-device-pixel-ratio: 2) {
  /* Retina display specific fixes */
  .retina-border {
    border-width: 0.5px;
  }
}

/* Prevent iOS rubber band scrolling */
.no-bounce {
  overscroll-behavior: none;
  -webkit-overflow-scrolling: auto;
}

/* iOS safe area utilities */
.safe-area-top {
  padding-top: env(safe-area-inset-top, 0px);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left, 0px);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right, 0px);
}
